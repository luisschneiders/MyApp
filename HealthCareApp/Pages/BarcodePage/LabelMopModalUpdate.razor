@using HealthCareApp.Components.Modal;
@using HealthCareApp.Settings.Enum;

<Modal @ref="_modalUpdate"
       Size="Size.lg">
    <Title>Update label</Title>
    <Body>
        <EditForm Model="@_labelMop"
                  OnValidSubmit="@HandleValidSubmitAsync"
                  OnInvalidSubmit="@HandleInvalidSubmitAsync"
                  autocomplete="off"
                  id="FormUpdateLabelMop">
            <DataAnnotationsValidator />
            <div class="row">
                <div class="col-sm-8">
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label"
                               for="CompanyName">
                            Company Name
                        </label>
                        <div class="col-sm-8">
                            <InputText class="form-control"
                                       id="CompanyName"
                                       @bind-Value="_labelMop.CompanyName" />
                        </div>
                    </div>
                    @*<div class="row mb-3">
                        <label class="col-sm-4 col-form-label"
                               for="AreaId">
                            Area
                        </label>
                        <div class="col-sm-8">
                            <InputSelect class="form-control"
                                         id="AreaId"
                                         @bind-Value="_labelMop.AreaId"
                                         @oninput="OnValueChanged">
                                <option value="@Guid.Empty.ToString()">-- Select area --</option>
                                @foreach (var (area, index) in _areas.Select((value, index) => (value, index)))
                                {
                                    <option value="@area.Id">@area.Name</option>
                                }
                            </InputSelect>
                        </div>
                    </div>*@
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label"
                               for="Quantity">
                            Mop Quantity
                        </label>
                        <div class="col-sm-8">
                            <InputNumber class="form-control"
                                         id="Quantity"
                                         @bind-Value="_labelMop.Quantity"
                                         min="1"
                                         max="20" />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label"
                               for="TimeOut">
                            Pickup time
                        </label>
                        <div class="col-sm-8">
                            <input class="form-control"
                                   id="TimeOut"
                                   type="time"
                                   @bind-value="_labelMop.TimeOut" />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label"
                               for="TimeIn">
                            Return time
                        </label>
                        <div class="col-sm-8">
                            <input class="form-control"
                                   id="TimeIn"
                                   type="time"
                                   @bind-value="_labelMop.TimeIn" />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label"
                               for="Barcode">
                            Barcode
                        </label>
                        <div class="col-sm-8">
                            <InputText class="form-control"
                                       id="Barcode"
                                       @bind-Value="_labelMop.Barcode"
                                       disabled />
                        </div>
                    </div>
                    <fieldset>
                        <legend>Status</legend>
                        <div class="row mb-3">
                            <label class="col-sm-4 col-form-label"
                                   for="IsActiveUpdate">
                                Active
                            </label>
                            <div class="col-sm-8 d-flex flex-row align-items-center">
                                <div class="form-check form-switch">
                                    <InputCheckbox class="form-check-input"
                                                   type="checkbox"
                                                   role="switch"
                                                   id="IsActiveUpdate"
                                                   @bind-Value="_labelMop.IsActive" />
                                </div>

                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="col-sm-4">
                    @if (_displayValidationErrorMessages)
                    {
                        <div class="row mb-3">
                            <div class="col">
                                <label>Validation Messages: </label>
                                <ValidationSummary />
                            </div>
                        </div>
                    }
                </div>
            </div>
        </EditForm>
    </Body>
    <Footer>
        <button type="button"
                class="btn btn-light btn-rounded"
                data-dismiss="modal"
                @onclick="() => CloseModalUpdateAsync()">
            Cancel
        </button>
        <button type="submit"
                form="FormUpdateLabelMop"
                class="btn btn-info btn-rounded text-white">
            Save
        </button>
    </Footer>
</Modal>
